# 2025 电赛校级联赛项目 - 基于 STM32 平台

本项目为参加 2025 年电赛校级联赛的作品，基于 STM32 平台实现。除第五题“数罐子”稳定性欠佳，其余任务已顺利完成。

## 项目功能概览

### 硬件模块

| 模块名称      | 简要说明                                      |
| ------------- | --------------------------------------------- |
| MPU6050       | 六轴传感器（加速度计 + 陀螺仪）               |
| VL53L0X       | 激光测距模块，测量精度高，适用于障碍检测等场景 |
| 串口通信       | 支持上位机调参与状态切换，使用串口中断收发     |

### 软件功能

| 模块名称        | 简要说明                                          |
| --------------- | ------------------------------------------------- |
| 上位机通信       | 通过串口中断接收上位机指令，进行参数调试与任务切换 |
| 状态机任务管理   | 多任务切换架构，基于串口中断触发状态转移         |
| 非阻塞延时       | 使用定时器中断实现 ms 级非阻塞延时               |
| 外设初始化流程   | 传感器、串口、定时器等硬件资源的初始化配置       |

## 开发平台与工具

- **MCU 平台**：STM32F103C8T6
- **编程语言**：C 
- **开发环境**：STM32CubeMX/Clion
- **调试工具**：
  1. [SerialTest](https://github.com/wh201906/SerialTest.git)
  2. [bt_mcu](https://gitee.com/xie-rongji/bt_mcu.git)
## 项目结构

```bash
|-- Core
||-- Inc # 头文件目录
|  |-- UI_ble.h # 上位机调参接口
|  |-- VL53L0X.h # 激光测距模块驱动
|  |-- counter.h # 计数模块头文件
|  |-- main.h # 主函数头文件
|  |-- mpu6050.h # 姿态传感器 MPU6050 驱动
|  |-- tasks.h # 任务状态管理
|  └-- usart.h # 串口通信接口
|
||-- Src # 源文件目录
|  |-- UI_ble.c # 本来是想写上位机调参封装，但时间太紧没来得及，仅留出接口
|  |-- VL53L0X.c # VL53L0X 驱动实现
|  |-- counter.c # 计数模块实现
|  |-- main.c # 主程序入口
|  |-- mpu6050.c # MPU6050 驱动实现
|  |-- tasks.c # 状态机任务调度实现
|  └-- usart.c # 串口通信实现（里面Eivill补充了串口重定向函数）
|-- .gitignore # Git 忽略列表
|-- xjls.ioc # CubeMX 配置文件
|-没写就是不用管
